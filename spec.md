# è˜¿è””ç³•è¨‚è³¼ç³»çµ±å¾Œå°ç®¡ç† Dashboard - å°ˆæ¡ˆè¦æ ¼æ–‡ä»¶

## ä¸€ã€å°ˆæ¡ˆæ¦‚è¿°

### 1.1 å°ˆæ¡ˆç°¡ä»‹
è˜¿è””ç³•è¨‚è³¼ç³»çµ±å¾Œå°ç®¡ç† Dashboard æ˜¯ä¸€å€‹å°ˆæ¥­çš„è¨‚å–®ç®¡ç†ç³»çµ±ï¼Œä¸»è¦åŠŸèƒ½ç‚ºå¾ Google Sheets å–å¾—è¨‚å–®è³‡æ–™ï¼Œä¸¦é€éç¾ä»£åŒ–çš„ç¶²é  Dashboard é€²è¡Œè¨‚å–®ç®¡ç†ã€å®¢æˆ¶ç®¡ç†ã€çµ±è¨ˆåˆ†æç­‰æ“ä½œã€‚ç³»çµ±æ¡ç”¨å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹ï¼Œå‰ç«¯ä½¿ç”¨ React + TypeScript + Tailwind CSSï¼Œå¾Œç«¯ä½¿ç”¨ PHP ä¸²æ¥ Google Sheets APIï¼Œä¸¦å…·å‚™å®Œæ•´çš„å¿«å–æ©Ÿåˆ¶èˆ‡æ¬Šé™æ§ç®¡ã€‚

**æ ¸å¿ƒç‰¹è‰²**ï¼š
- ğŸ”„ **å³æ™‚åŒæ­¥**ï¼šèˆ‡ Google Sheets é›™å‘å³æ™‚åŒæ­¥ï¼Œç¢ºä¿è³‡æ–™ä¸€è‡´æ€§
- ğŸ“Š **æ™ºèƒ½çµ±è¨ˆ**ï¼šæä¾›å¤šç¶­åº¦è¨‚å–®çµ±è¨ˆèˆ‡æ¥­ç¸¾åˆ†æ
- ğŸ¯ **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æ´æ‰¹é‡ç‹€æ…‹æ›´æ–°ã€æ‰¹é‡åˆªé™¤ç­‰é«˜æ•ˆæ“ä½œ
- ğŸ” **é€²éšç¯©é¸**ï¼šå¤šæ¢ä»¶ç¯©é¸ã€æ—¥æœŸç¯„åœæŸ¥è©¢ã€æ¨¡ç³Šæœå°‹
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šå®Œç¾é©é…æ¡Œé¢ç«¯èˆ‡è¡Œå‹•è£ç½®
- ğŸ›¡ï¸ **å®‰å…¨æ©Ÿåˆ¶**ï¼šå®Œæ•´çš„æ¬Šé™æ§ç®¡èˆ‡è³‡æ–™é©—è­‰
- âš¡ **æ•ˆèƒ½å„ªåŒ–**ï¼šå¤šå±¤å¿«å–æ©Ÿåˆ¶ï¼Œæå‡è¼‰å…¥é€Ÿåº¦

### 1.2 å°ˆæ¡ˆç›®æ¨™
- æä¾›ç›´è§€æ˜“ç”¨çš„è¨‚å–®ç®¡ç†ä»‹é¢
- å¯¦ç¾èˆ‡ Google Sheets çš„å³æ™‚è³‡æ–™åŒæ­¥
- æ”¯æ´æ‰¹é‡æ“ä½œæå‡ç®¡ç†æ•ˆç‡
- æä¾›è©³ç´°çš„çµ±è¨ˆåˆ†æåŠŸèƒ½
- ç¢ºä¿ç³»çµ±å®‰å…¨æ€§èˆ‡è³‡æ–™å®Œæ•´æ€§

### 1.3 ç›®æ¨™ä½¿ç”¨è€…
- è˜¿è””ç³•åº—å®¶ç®¡ç†å“¡
- è¨‚å–®è™•ç†äººå“¡
- å®¢æœäººå“¡

## äºŒã€ç³»çµ±æ¶æ§‹åœ–ï¼ˆUMLï¼‰

### 1. æµç¨‹åœ–
```mermaid
flowchart TD
    User(ä½¿ç”¨è€…) -->|å­˜å– Dashboard| Frontend(å‰ç«¯)
    Frontend -->|API è«‹æ±‚| Backend(å¾Œç«¯ PHP)
    Backend -->|å­˜å–| Cache(å¿«å–)
    Backend -->|ä¸²æ¥| GoogleSheet(Google Sheet API)
    GoogleSheet --> Backend
    Cache --> Backend
    Backend -->|å›å‚³ JSON| Frontend
    Frontend -->|é¡¯ç¤ºè¨‚å–®| User
```

### 2. å¾ªåºåœ–
```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend
    participant B as Backend
    participant G as GoogleSheet
    participant C as Cache
    U->>F: è¼¸å…¥ç¶²å€å­˜å– Dashboard
    F->>B: ç™¼é€è¨‚å–®æŸ¥è©¢ API è«‹æ±‚
    B->>C: æª¢æŸ¥å¿«å–
    alt æœ‰å¿«å–
      C-->>B: å›å‚³å¿«å–è³‡æ–™
    else ç„¡å¿«å–
      B->>G: å–å¾— Google Sheet è¨‚å–®
      G-->>B: å›å‚³è¨‚å–®è³‡æ–™
      B->>C: å¯«å…¥å¿«å–
    end
    B-->>F: å›å‚³è¨‚å–®è³‡æ–™
    F-->>U: å‘ˆç¾è¨‚å–®
```

### 3. ç‰©ä»¶é—œè¯åœ–
```mermaid
classDiagram
    class Frontend {
      +fetchOrders()
      +renderTable()
    }
    class Backend {
      +getOrdersFromSheet()
      +handleCache()
      +apiResponse()
    }
    class Cache {
      +get()
      +set()
      +invalidate()
    }
    class GoogleSheet {
      +readOrders()
    }
    Frontend --> Backend : API å‘¼å«
    Backend --> Cache : å¿«å–å­˜å–
    Backend --> GoogleSheet : API ä¸²æ¥
```

## ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„

### 3.1 è¨‚å–®ç®¡ç†ç³»çµ±
#### 3.1.1 è¨‚å–®åˆ—è¡¨ç®¡ç†
- **è¨‚å–®é¡¯ç¤º**ï¼šå®Œæ•´çš„è¨‚å–®è³‡è¨Šå±•ç¤ºï¼ŒåŒ…å«å®¢æˆ¶è³‡æ–™ã€å•†å“æ˜ç´°ã€é…é€è³‡è¨Š
- **å¤šé‡ç¯©é¸**ï¼šæ”¯æ´æŒ‰è¨‚å–®ç‹€æ…‹ã€é…é€æ–¹å¼ã€ä»˜æ¬¾ç‹€æ…‹ã€æ—¥æœŸç¯„åœé€²è¡Œç¯©é¸
- **æ™ºèƒ½æœå°‹**ï¼šæ”¯æ´å®¢æˆ¶å§“åã€é›»è©±è™Ÿç¢¼ã€è¨‚å–®ç·¨è™Ÿçš„æ¨¡ç³Šæœå°‹
- **åˆ†é é¡¯ç¤º**ï¼šæ”¯æ´å¤§é‡è¨‚å–®çš„åˆ†é ç€è¦½ï¼Œæå‡è¼‰å…¥æ•ˆèƒ½
- **å³æ™‚æ›´æ–°**ï¼šèˆ‡ Google Sheets å³æ™‚åŒæ­¥ï¼Œç¢ºä¿è³‡æ–™æœ€æ–°æ€§

#### 3.1.2 è¨‚å–®è©³ç´°ç®¡ç†
- **è¨‚å–®è©³æƒ…æª¢è¦–**ï¼šå®Œæ•´çš„è¨‚å–®è³‡è¨ŠæŸ¥çœ‹ï¼ŒåŒ…å«æ‰€æœ‰æ¬„ä½è³‡æ–™
- **å•†å“ç·¨è¼¯åŠŸèƒ½**ï¼šæ”¯æ´ä¿®æ”¹å•†å“æ•¸é‡ã€æ–°å¢/åˆªé™¤å•†å“é …ç›®
- **é‡‘é¡è‡ªå‹•è¨ˆç®—**ï¼šå•†å“è®Šæ›´æ™‚è‡ªå‹•é‡æ–°è¨ˆç®—ç¸½é‡‘é¡
- **ç‹€æ…‹ç®¡ç†**ï¼šæ”¯æ´è¨‚å–®ç‹€æ…‹èˆ‡ä»˜æ¬¾ç‹€æ…‹çš„ç¨ç«‹æ›´æ–°
- **å‚™è¨»ç·¨è¼¯**ï¼šæ”¯æ´è¨‚å–®å‚™è¨»çš„æ–°å¢èˆ‡ä¿®æ”¹

#### 3.1.3 æ‰¹é‡æ“ä½œåŠŸèƒ½
- **æ‰¹é‡é¸æ“‡**ï¼šæ”¯æ´å¤šé¸è¨‚å–®é€²è¡Œæ‰¹é‡æ“ä½œ
- **æ‰¹é‡ç‹€æ…‹æ›´æ–°**ï¼šåŒæ™‚æ›´æ–°å¤šç­†è¨‚å–®çš„è™•ç†ç‹€æ…‹
- **æ‰¹é‡ä»˜æ¬¾ç‹€æ…‹æ›´æ–°**ï¼šåŒæ™‚æ›´æ–°å¤šç­†è¨‚å–®çš„ä»˜æ¬¾ç‹€æ…‹
- **æ‰¹é‡åˆªé™¤**ï¼šæ”¯æ´æ‰¹é‡åˆªé™¤è¨‚å–®ï¼ˆå«ç¢ºèªæ©Ÿåˆ¶ï¼‰
- **æ“ä½œç¢ºèª**ï¼šæ‰€æœ‰æ‰¹é‡æ“ä½œå‡æœ‰ç¢ºèªå°è©±æ¡†é˜²æ­¢èª¤æ“ä½œ

### 3.2 å®¢æˆ¶ç®¡ç†ç³»çµ±
#### 3.2.1 å®¢æˆ¶è³‡æ–™ç®¡ç†
- **å®¢æˆ¶åˆ—è¡¨**ï¼šå®Œæ•´çš„å®¢æˆ¶è³‡æ–™å±•ç¤ºèˆ‡ç®¡ç†
- **å®¢æˆ¶æœå°‹**ï¼šæ”¯æ´å§“åã€é›»è©±ã€åœ°å€ç­‰å¤šæ¬„ä½æœå°‹
- **è³¼è²·æ­·å²**ï¼šæŸ¥çœ‹å®¢æˆ¶çš„å®Œæ•´è³¼è²·è¨˜éŒ„
- **å®¢æˆ¶çµ±è¨ˆ**ï¼šå®¢æˆ¶è³¼è²·æ¬¡æ•¸ã€é‡‘é¡ç­‰çµ±è¨ˆè³‡è¨Š

#### 3.2.2 å®¢æˆ¶åˆ†æåŠŸèƒ½
- **åœ°å€åˆ†æ**ï¼šå®¢æˆ¶åœ°å€åˆ†å¸ƒçµ±è¨ˆ
- **è³¼è²·é »æ¬¡åˆ†æ**ï¼šå®¢æˆ¶è³¼è²·æ¬¡æ•¸åˆ†çµ„çµ±è¨ˆ
- **å¿ èª åº¦åˆ†æ**ï¼šè­˜åˆ¥é«˜åƒ¹å€¼å®¢æˆ¶

### 3.3 çµ±è¨ˆåˆ†æç³»çµ±
#### 3.3.1 è¨‚å–®çµ±è¨ˆ
- **å³æ™‚çµ±è¨ˆ**ï¼šç¸½è¨‚å–®æ•¸ã€å„ç‹€æ…‹è¨‚å–®æ•¸é‡çµ±è¨ˆ
- **é‡‘é¡çµ±è¨ˆ**ï¼šç¸½ç‡Ÿæ¥­é¡ã€å¹³å‡è¨‚å–®é‡‘é¡çµ±è¨ˆ
- **å•†å“çµ±è¨ˆ**ï¼šå„å•†å“éŠ·å”®æ•¸é‡çµ±è¨ˆ
- **æ™‚é–“è¶¨å‹¢**ï¼šè¨‚å–®æ™‚é–“åˆ†å¸ƒåˆ†æ

#### 3.3.2 æ¥­ç¸¾åˆ†æ
- **æ—¥æœŸç¯„åœåˆ†æ**ï¼šæ”¯æ´è‡ªå®šç¾©æ—¥æœŸç¯„åœçš„æ¥­ç¸¾åˆ†æ
- **å•†å“éŠ·å”®æ’è¡Œ**ï¼šç†±éŠ·å•†å“æ’è¡Œæ¦œ
- **é…é€æ–¹å¼åˆ†æ**ï¼šä¸åŒé…é€æ–¹å¼çš„ä½¿ç”¨çµ±è¨ˆ
- **ä»˜æ¬¾æ–¹å¼åˆ†æ**ï¼šä¸åŒä»˜æ¬¾æ–¹å¼çš„ä½¿ç”¨çµ±è¨ˆ

### 3.4 ç³»çµ±ç®¡ç†åŠŸèƒ½
#### 3.4.1 æ¬Šé™ç®¡ç†
- **ç®¡ç†å“¡ç™»å…¥**ï¼šå®‰å…¨çš„ç®¡ç†å“¡èªè­‰æ©Ÿåˆ¶
- **Session ç®¡ç†**ï¼šè‡ªå‹•ç™»å‡ºèˆ‡æœƒè©±ä¿è­·
- **æ¬Šé™é©—è­‰**ï¼šAPI å­˜å–æ¬Šé™æ§åˆ¶

#### 3.4.2 è³‡æ–™ç®¡ç†
- **å¿«å–ç®¡ç†**ï¼šæ™ºèƒ½å¿«å–æ©Ÿåˆ¶ï¼Œæå‡ç³»çµ±æ•ˆèƒ½
- **è³‡æ–™åŒæ­¥**ï¼šèˆ‡ Google Sheets çš„å³æ™‚é›™å‘åŒæ­¥
- **è³‡æ–™å‚™ä»½**ï¼šé‡è¦æ“ä½œçš„è³‡æ–™å‚™ä»½æ©Ÿåˆ¶
- **éŒ¯èª¤è™•ç†**ï¼šå®Œæ•´çš„éŒ¯èª¤è™•ç†èˆ‡æ—¥èªŒè¨˜éŒ„

### 3.5 åŒ¯å‡ºåŠŸèƒ½
#### 3.5.1 è³‡æ–™åŒ¯å‡º
- **Excel åŒ¯å‡º**ï¼šæ”¯æ´è¨‚å–®è³‡æ–™åŒ¯å‡ºç‚º Excel æ ¼å¼
- **CSV åŒ¯å‡º**ï¼šæ”¯æ´ CSV æ ¼å¼åŒ¯å‡ºï¼Œç›¸å®¹å„ç¨®ç³»çµ±
- **ç¯©é¸åŒ¯å‡º**ï¼šæ”¯æ´æŒ‰ç¯©é¸æ¢ä»¶åŒ¯å‡ºç‰¹å®šè³‡æ–™
- **è‡ªå®šç¾©æ¬„ä½**ï¼šæ”¯æ´é¸æ“‡åŒ¯å‡ºçš„æ¬„ä½å…§å®¹

## å››ã€æŠ€è¡“æ¶æ§‹èˆ‡è¦æ ¼

### 4.1 å‰ç«¯æŠ€è¡“æ¶æ§‹
#### 4.1.1 æ ¸å¿ƒæŠ€è¡“æ£§
- **æ¡†æ¶**ï¼šReact 18.3.1 (å‡½æ•¸çµ„ä»¶ + Hooks)
- **èªè¨€**ï¼šTypeScript 5.5.3 (åš´æ ¼é¡å‹æª¢æŸ¥)
- **æ¨£å¼**ï¼šTailwind CSS 3.4.11 + shadcn/ui çµ„ä»¶åº«
- **ç‹€æ…‹ç®¡ç†**ï¼šReact Query (TanStack Query) 5.56.2
- **è·¯ç”±**ï¼šReact Router DOM 6.26.2
- **å»ºç½®å·¥å…·**ï¼šVite 5.4.1 (å¿«é€Ÿé–‹ç™¼èˆ‡å»ºç½®)

#### 4.1.2 UI çµ„ä»¶æ¶æ§‹
- **è¨­è¨ˆç³»çµ±**ï¼šåŸºæ–¼ Radix UI çš„ shadcn/ui çµ„ä»¶åº«
- **åœ–æ¨™ç³»çµ±**ï¼šLucide React 0.462.0
- **è¡¨å–®è™•ç†**ï¼šReact Hook Form 7.53.0 + Zod 3.23.8 é©—è­‰
- **è³‡æ–™è¦–è¦ºåŒ–**ï¼šRecharts 2.12.7
- **é€šçŸ¥ç³»çµ±**ï¼šSonner 1.5.0 (Toast é€šçŸ¥)

#### 4.1.3 å°ˆæ¡ˆçµæ§‹
```
src/
â”œâ”€â”€ components/          # React çµ„ä»¶ (19å€‹æª”æ¡ˆ)
â”‚   â”œâ”€â”€ ui/             # åŸºç¤ UI çµ„ä»¶ (shadcn/ui)
â”‚   â”œâ”€â”€ Dashboard.tsx   # ä¸»æ§å°çµ„ä»¶ - çµ±è¨ˆå¡ç‰‡èˆ‡æ¦‚è¦½
â”‚   â”œâ”€â”€ OrderList.tsx   # è¨‚å–®åˆ—è¡¨çµ„ä»¶ (632è¡Œ) - æ ¸å¿ƒè¨‚å–®ç®¡ç†
â”‚   â”œâ”€â”€ OrderDetail.tsx # è¨‚å–®è©³æƒ…çµ„ä»¶ - å–®ç­†è¨‚å–®æª¢è¦–
â”‚   â”œâ”€â”€ OrderItemEditor.tsx # å•†å“ç·¨è¼¯å™¨ - è¨‚å–®å•†å“ä¿®æ”¹
â”‚   â”œâ”€â”€ CustomerList.tsx # å®¢æˆ¶åˆ—è¡¨çµ„ä»¶ - å®¢æˆ¶ç®¡ç†
â”‚   â”œâ”€â”€ CustomerDetail.tsx # å®¢æˆ¶è©³æƒ…çµ„ä»¶ - å®¢æˆ¶è³‡è¨Šæª¢è¦–
â”‚   â”œâ”€â”€ OrderFilters.tsx # è¨‚å–®ç¯©é¸å™¨ - å¤šæ¢ä»¶ç¯©é¸
â”‚   â”œâ”€â”€ CustomerFilters.tsx # å®¢æˆ¶ç¯©é¸å™¨
â”‚   â”œâ”€â”€ BatchDeleteConfirmDialog.tsx # æ‰¹é‡åˆªé™¤ç¢ºèªå°è©±æ¡†
â”‚   â”œâ”€â”€ DuplicateOrdersDialog.tsx # é‡è¤‡è¨‚å–®æª¢æ¸¬å°è©±æ¡†
â”‚   â”œâ”€â”€ ModernSidebar.tsx # ç¾ä»£åŒ–å´é‚Šæ¬„å°èˆª
â”‚   â”œâ”€â”€ CompactControlPanel.tsx # ç·Šæ¹Šæ§åˆ¶é¢æ¿
â”‚   â”œâ”€â”€ StatusBadge.tsx # è¨‚å–®ç‹€æ…‹å¾½ç« 
â”‚   â”œâ”€â”€ PaymentStatusBadge.tsx # ä»˜æ¬¾ç‹€æ…‹å¾½ç« 
â”‚   â”œâ”€â”€ PaymentStatusEditor.tsx # ä»˜æ¬¾ç‹€æ…‹ç·¨è¼¯å™¨
â”‚   â”œâ”€â”€ StatCard.tsx # çµ±è¨ˆå¡ç‰‡çµ„ä»¶
â”‚   â””â”€â”€ ScrollToTopButton.tsx # å›åˆ°é ‚éƒ¨æŒ‰éˆ•
â”œâ”€â”€ pages/              # é é¢çµ„ä»¶ (4å€‹æª”æ¡ˆ)
â”‚   â”œâ”€â”€ Index.tsx       # é¦–é  - ä¸»è¦ Dashboard é é¢
â”‚   â”œâ”€â”€ AdminLoginPage.tsx # ç®¡ç†å“¡ç™»å…¥é 
â”‚   â”œâ”€â”€ AdminDashboardPage.tsx # ç®¡ç†å¾Œå°é 
â”‚   â””â”€â”€ NotFound.tsx    # 404 éŒ¯èª¤é é¢
â”œâ”€â”€ services/           # API æœå‹™å±¤ (2å€‹æª”æ¡ˆ)
â”‚   â”œâ”€â”€ orderService.ts # è¨‚å–®ç›¸é—œ API - åŒ…å«å•†å“ç¡¬ç·¨ç¢¼é‚è¼¯
â”‚   â””â”€â”€ customerService.ts # å®¢æˆ¶ç›¸é—œ API
â”œâ”€â”€ types/              # TypeScript é¡å‹å®šç¾© (4å€‹æª”æ¡ˆ)
â”‚   â”œâ”€â”€ order.ts        # è¨‚å–®é¡å‹ - åŒ…å«å•†å“çµ±è¨ˆé¡å‹
â”‚   â”œâ”€â”€ customer.ts     # å®¢æˆ¶é¡å‹
â”‚   â”œâ”€â”€ filters.ts      # ç¯©é¸å™¨é¡å‹
â”‚   â””â”€â”€ global.d.ts     # å…¨åŸŸé¡å‹å®šç¾©
â”œâ”€â”€ hooks/              # è‡ªå®šç¾© Hooks (2å€‹æª”æ¡ˆ)
â”‚   â”œâ”€â”€ use-mobile.tsx  # è¡Œå‹•è£ç½®æª¢æ¸¬
â”‚   â””â”€â”€ use-toast.ts    # Toast é€šçŸ¥
â”œâ”€â”€ lib/                # å·¥å…·å‡½æ•¸ (1å€‹æª”æ¡ˆ)
â”‚   â””â”€â”€ utils.ts        # é€šç”¨å·¥å…·å‡½æ•¸
â”œâ”€â”€ utils/              # è¼”åŠ©å·¥å…· (4å€‹æª”æ¡ˆ)
â”‚   â”œâ”€â”€ exportUtils.ts  # åŒ¯å‡ºåŠŸèƒ½ - Excel/CSV
â”‚   â”œâ”€â”€ exportQuickStoreXlsx.ts # å¿«é€Ÿå•†åº—æ ¼å¼åŒ¯å‡º
â”‚   â”œâ”€â”€ errorHandler.ts # éŒ¯èª¤è™•ç†
â”‚   â””â”€â”€ uriErrorHandler.ts # URI éŒ¯èª¤è™•ç†
â””â”€â”€ routes/             # è·¯ç”±é…ç½® (1å€‹æª”æ¡ˆ)
    â””â”€â”€ adminRoutes.tsx # ç®¡ç†å“¡è·¯ç”±
```

### 4.2 å¾Œç«¯æŠ€è¡“æ¶æ§‹
#### 4.2.1 æ ¸å¿ƒæŠ€è¡“
- **èªè¨€**ï¼šPHP 7.4+ (PSR-12 ä»£ç¢¼è¦ç¯„)
- **API æ¶æ§‹**ï¼šRESTful API è¨­è¨ˆ
- **è³‡æ–™ä¾†æº**ï¼šGoogle Sheets API v4
- **èªè­‰æ–¹å¼**ï¼šGoogle Service Account
- **ä¾è³´ç®¡ç†**ï¼šComposer

#### 4.2.2 API ç«¯é»è¨­è¨ˆ
```
api/ (13å€‹æª”æ¡ˆ)
â”œâ”€â”€ common_headers.php           # å…±ç”¨ CORS æ¨™é ­è¨­ç½® (1KB)
â”œâ”€â”€ get_orders_from_sheet.php    # å–å¾—è¨‚å–®åˆ—è¡¨ (4.6KB, 131è¡Œ)
â”œâ”€â”€ get_customers_from_sheet.php # å–å¾—å®¢æˆ¶åˆ—è¡¨ (5.6KB, 159è¡Œ)
â”œâ”€â”€ get_customer_orders.php      # å–å¾—å®¢æˆ¶è¨‚å–®æ­·å² (7.1KB, 218è¡Œ)
â”œâ”€â”€ update_order_status.php      # æ›´æ–°è¨‚å–®ç‹€æ…‹ (2.9KB, 91è¡Œ)
â”œâ”€â”€ update_payment_status.php    # æ›´æ–°ä»˜æ¬¾ç‹€æ…‹ (2.1KB, 62è¡Œ)
â”œâ”€â”€ update_order_items.php       # æ›´æ–°è¨‚å–®å•†å“ (4.3KB, 141è¡Œ)
â”œâ”€â”€ delete_order.php             # åˆªé™¤è¨‚å–® (6.6KB, 204è¡Œ)
â”œâ”€â”€ batch_delete_orders.php      # æ‰¹é‡åˆªé™¤è¨‚å–® (7.5KB, 237è¡Œ)
â”œâ”€â”€ admin_login.php              # ç®¡ç†å“¡ç™»å…¥é©—è­‰ (1.1KB, 46è¡Œ)
â”œâ”€â”€ check_cache.php              # å¿«å–æª¢æŸ¥å·¥å…· (2.8KB, 89è¡Œ)
â”œâ”€â”€ check_api_path.php           # API è·¯å¾‘æª¢æŸ¥ (4.1KB, 118è¡Œ)
â””â”€â”€ test_api_access.php          # API å­˜å–æ¸¬è©¦ (1.1KB, 36è¡Œ)
```

**API ç‰¹è‰²åŠŸèƒ½**ï¼š
- ğŸ”„ **æ™ºèƒ½å¿«å–**ï¼š15ç§’å¿«å–æ©Ÿåˆ¶ï¼Œæ”¯æ´å¼·åˆ¶åˆ·æ–°
- ğŸ›¡ï¸ **å®‰å…¨é©—è­‰**ï¼šæ™‚é–“æˆ³ + éš¨æ©Ÿæ•¸é˜²é‡æ”¾æ”»æ“Š
- ğŸ“Š **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æ´æ‰¹é‡ç‹€æ…‹æ›´æ–°èˆ‡åˆªé™¤
- ğŸ” **éŒ¯èª¤è¿½è¹¤**ï¼šå®Œæ•´çš„éŒ¯èª¤æ—¥èªŒèˆ‡é™¤éŒ¯å·¥å…·
- ğŸŒ **CORS æ”¯æ´**ï¼šè·¨åŸŸè«‹æ±‚å®Œæ•´æ”¯æ´

#### 4.2.3 Google Sheets æ•´åˆ
- **è©¦ç®—è¡¨ ID**ï¼š10MMALrfBonchPGjb-ps6Knw7MV6lllrrKRCTeafCIuo
- **å·¥ä½œè¡¨çµæ§‹**ï¼š
  - Sheet1ï¼šä¸»è¦è¨‚å–®è³‡æ–™ (15å€‹æ¬„ä½)
  - å®¢æˆ¶åå–®ï¼šå®¢æˆ¶åŸºæœ¬è³‡æ–™ (8å€‹æ¬„ä½)
- **èªè­‰æª”æ¡ˆ**ï¼šservice-account-key2.json
- **æ¬Šé™ç¯„åœ**ï¼šSPREADSHEETS (è®€å¯«æ¬Šé™)

### 4.3 å¿«å–æ©Ÿåˆ¶
#### 4.3.1 ä¼ºæœå™¨ç«¯å¿«å–
- **å¿«å–ç›®éŒ„**ï¼šcache/ (è‡ªå‹•å»ºç«‹ï¼Œæ¬Šé™ 755ï¼Œç›®å‰åŒ…å«36å€‹å¿«å–æª”æ¡ˆ)
- **å¿«å–æª”æ¡ˆé¡å‹**ï¼š
  - `orders_cache.json` (è¨‚å–®å¿«å–)
  - `customers_cache.json` (å®¢æˆ¶å¿«å–)
  - `customer_orders_{phone}_cache.json` (å®¢æˆ¶è¨‚å–®å¿«å–ï¼ŒæŒ‰é›»è©±è™Ÿç¢¼åˆ†çµ„)
- **å¿«å–æ™‚æ•ˆ**ï¼š15 ç§’ (å¯èª¿æ•´)
- **å¿«å–ç­–ç•¥**ï¼šLRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨)
- **å¿«å–ç®¡ç†**ï¼š
  - è‡ªå‹•éæœŸæ©Ÿåˆ¶
  - æ”¯æ´å¼·åˆ¶åˆ·æ–° (`refresh=1` åƒæ•¸)
  - å¿«å–æ¸…ç†å·¥å…· (`clear-cache.bat`)
  - å¿«å–ç‹€æ…‹æª¢æŸ¥ (`api/check_cache.php`)

#### 4.3.2 å®¢æˆ¶ç«¯å¿«å–
- **è¨˜æ†¶é«”å¿«å–**ï¼šorderService.ts ä¸­çš„ orderCache
- **å¿«å–æ™‚æ•ˆ**ï¼š15 ç§’
- **å¿«å–æ¸…é™¤**ï¼šè³‡æ–™æ›´æ–°å¾Œè‡ªå‹•æ¸…é™¤
- **å¼·åˆ¶åˆ·æ–°**ï¼šæ”¯æ´ refresh=1 åƒæ•¸ç¹éå¿«å–

### 4.4 å®‰å…¨æ€§è¨­è¨ˆ
#### 4.4.1 å‰ç«¯å®‰å…¨
- **XSS é˜²è­·**ï¼šReact å…§å»º XSS é˜²è­·
- **CSRF é˜²è­·**ï¼šæ™‚é–“æˆ³ + éš¨æ©Ÿæ•¸é©—è­‰
- **è¼¸å…¥é©—è­‰**ï¼šZod schema é©—è­‰
- **æ•æ„Ÿè³‡æ–™**ï¼šlocalStorage åŠ å¯†å­˜å„²

#### 4.4.2 å¾Œç«¯å®‰å…¨
- **CORS è¨­å®š**ï¼šåš´æ ¼çš„è·¨åŸŸè«‹æ±‚æ§åˆ¶
- **è¼¸å…¥éæ¿¾**ï¼šPHP å¾Œç«¯å®Œæ•´è¼¸å…¥é©—è­‰
- **SQL æ³¨å…¥é˜²è­·**ï¼šåƒæ•¸åŒ–æŸ¥è©¢ (é›–ç„¶ä½¿ç”¨ Google Sheets)
- **èªè­‰æ©Ÿåˆ¶**ï¼šSession + Token é›™é‡é©—è­‰

### 4.5 æ•ˆèƒ½å„ªåŒ–
#### 4.5.1 å‰ç«¯å„ªåŒ–
- **ä»£ç¢¼åˆ†å‰²**ï¼šReact.lazy + Suspense
- **çµ„ä»¶å„ªåŒ–**ï¼šReact.memo + useMemo + useCallback
- **è³‡æºå„ªåŒ–**ï¼šVite è‡ªå‹•å„ªåŒ–èˆ‡å£“ç¸®
- **å¿«å–ç­–ç•¥**ï¼šReact Query æ™ºèƒ½å¿«å–

#### 4.5.2 å¾Œç«¯å„ªåŒ–
- **API å„ªåŒ–**ï¼šæ‰¹é‡æ“ä½œæ¸›å°‘è«‹æ±‚æ¬¡æ•¸
- **å¿«å–å„ªåŒ–**ï¼šå¤šå±¤å¿«å–æ©Ÿåˆ¶
- **è³‡æ–™åº«å„ªåŒ–**ï¼šGoogle Sheets æ‰¹é‡è®€å¯«
- **å£“ç¸®å‚³è¼¸**ï¼šGzip å£“ç¸®å›æ‡‰è³‡æ–™

## äº”ã€Cloudflare Pages + Workers éƒ¨ç½²æ¶æ§‹

### 5.1 ç¾ä»£åŒ–æ¶æ§‹è¨­è¨ˆ
#### 5.1.1 å‰ç«¯ï¼šCloudflare Pages
- **æ¡†æ¶**ï¼šReact + TypeScript + Vite
- **éƒ¨ç½²å¹³å°**ï¼šCloudflare Pages (å…¨çƒ CDN)
- **éœæ…‹è³‡æº**ï¼šè‡ªå‹•å„ªåŒ–èˆ‡å£“ç¸®
- **CI/CD**ï¼šGitHub Actions è‡ªå‹•éƒ¨ç½²
- **åŸŸåç®¡ç†**ï¼šCloudflare DNS

#### 5.1.2 å¾Œç«¯ï¼šCloudflare Workers
- **é‹è¡Œç’°å¢ƒ**ï¼šCloudflare Workers (V8 JavaScript)
- **API æ¡†æ¶**ï¼šHono + chanfana (OpenAPI)
- **ç„¡ä¼ºæœå™¨**ï¼šé‚Šç·£é‹ç®—ï¼Œå…¨çƒåˆ†ä½ˆ
- **æˆæœ¬æ•ˆç›Š**ï¼šæŒ‰è«‹æ±‚è¨ˆè²»ï¼Œä½æˆæœ¬é«˜æ•ˆèƒ½
- **é–‹ç™¼èªè¨€**ï¼šTypeScript

#### 5.1.3 è³‡æ–™å­˜å–
- **è³‡æ–™ä¾†æº**ï¼šGoogle Sheets API v4
- **èªè­‰æ–¹å¼**ï¼šGoogle Service Account
- **å¿«å–ç­–ç•¥**ï¼šWorkers KV Store (å…¨çƒå¿«å–)
- **å®‰å…¨æ€§**ï¼šCloudflare WAF + DDoS é˜²è­·

### 5.2 å‚³çµ± PHP æ¶æ§‹ vs Cloudflare æ¶æ§‹å°æ¯”

| é …ç›® | å‚³çµ± PHP æ¶æ§‹ | Cloudflare æ¶æ§‹ |
|------|---------------|-----------------|
| **å‰ç«¯è¨—ç®¡** | Apache/Nginx + PHP | Cloudflare Pages |
| **å¾Œç«¯ API** | PHP 7.4+ | Cloudflare Workers |
| **å¿«å–æ©Ÿåˆ¶** | æª”æ¡ˆç³»çµ±å¿«å– | Workers KV Store |
| **éƒ¨ç½²æ–¹å¼** | FTP/SSH æ‰‹å‹•éƒ¨ç½² | Git è‡ªå‹•éƒ¨ç½² |
| **å…¨çƒå¯ç”¨æ€§** | å–®ä¸€ä¼ºæœå™¨ | å…¨çƒé‚Šç·£ç¶²è·¯ |
| **æ“´å±•æ€§** | å‚ç›´æ“´å±• | è‡ªå‹•æ°´å¹³æ“´å±• |
| **æˆæœ¬** | å›ºå®šä¼ºæœå™¨è²»ç”¨ | æŒ‰ä½¿ç”¨é‡è¨ˆè²» |
| **ç¶­è­·æˆæœ¬** | ä¼ºæœå™¨ç¶­è­· | ç„¡ä¼ºæœå™¨ç¶­è­· |

### 5.3 Workers API é·ç§»æ¶æ§‹

#### 5.3.1 API ç«¯é»å°æ‡‰è¡¨
| PHP ç«¯é» | Workers ç«¯é» | ç‹€æ…‹ | è¤‡é›œåº¦ |
|----------|--------------|------|--------|
| `get_orders_from_sheet.php` | `endpoints/getOrdersFromSheet.ts` | âŒ å¾…é·ç§» | â­â­â­ |
| `get_customers_from_sheet.php` | `endpoints/getCustomersFromSheet.ts` | âŒ å¾…é·ç§» | â­â­â­ |
| `update_order_status.php` | `endpoints/updateOrderStatus.ts` | âŒ å¾…é·ç§» | â­â­â­â­ |
| `update_payment_status.php` | `endpoints/updatePaymentStatus.ts` | âŒ å¾…é·ç§» | â­â­â­ |
| `update_order_items.php` | `endpoints/updateOrderItems.ts` | âŒ å¾…é·ç§» | â­â­â­â­ |
| `delete_order.php` | `endpoints/deleteOrder.ts` | âŒ å¾…é·ç§» | â­â­â­â­â­ |
| `batch_delete_orders.php` | `endpoints/batchDeleteOrders.ts` | âŒ å¾…é·ç§» | â­â­â­â­â­ |
| `admin_login.php` | `endpoints/adminLogin.ts` | âŒ å¾…é·ç§» | â­â­â­ |
| `get_customer_orders.php` | `endpoints/getCustomerOrders.ts` | âŒ å¾…é·ç§» | â­â­ |

#### 5.3.2 Workers æŠ€è¡“æ£§
```typescript
// æ ¸å¿ƒæ¡†æ¶
import { Hono } from 'hono';
import { fromHono } from 'chanfana';

// Google Sheets æ•´åˆ
import { GoogleAuth } from 'google-auth-library';
import { sheets_v4 } from 'googleapis';

// å¿«å–èˆ‡å­˜å„²
interface Env {
  ORDERS_CACHE: KVNamespace;
  GOOGLE_SERVICE_ACCOUNT: string; // Secret
  SHEETS_ID: string;
}
```

#### 5.3.3 å¿«å–ç­–ç•¥è¨­è¨ˆ
```mermaid
graph TD
    A[API è«‹æ±‚] --> B{KV Store æª¢æŸ¥}
    B -->|å¿«å–å‘½ä¸­| C[è¿”å›å¿«å–è³‡æ–™]
    B -->|å¿«å–éæœŸ| D[Google Sheets API]
    D --> E[æ›´æ–° KV Store]
    E --> F[è¿”å›æœ€æ–°è³‡æ–™]
    F --> G[è¨­ç½® 15s TTL]
```

#### 5.3.4 æ ¸å¿ƒåŠŸèƒ½å¯¦ä½œé‡é»

**A. Google Sheets æ•´åˆ**
```typescript
class SheetsService {
  private auth: GoogleAuth;
  private sheets: sheets_v4.Sheets;
  
  constructor(serviceAccountKey: string) {
    this.auth = new GoogleAuth({
      credentials: JSON.parse(serviceAccountKey),
      scopes: ['https://www.googleapis.com/auth/spreadsheets']
    });
  }
  
  async getOrders(): Promise<Order[]> {
    // å¯¦ä½œç´°ç¯€...
  }
  
  async updateOrderStatus(id: string, status: string): Promise<void> {
    // å¯¦ä½œç´°ç¯€...
  }
}
```

**B. KV Store å¿«å–ç®¡ç†**
```typescript
class CacheManager {
  constructor(private kv: KVNamespace) {}
  
  async get<T>(key: string): Promise<T | null> {
    const cached = await this.kv.get(key, 'json');
    return cached as T;
  }
  
  async set<T>(key: string, value: T, ttl: number = 15): Promise<void> {
    await this.kv.put(key, JSON.stringify(value), {
      expirationTtl: ttl
    });
  }
  
  async invalidate(pattern: string): Promise<void> {
    // æ¸…é™¤ç›¸é—œå¿«å–
  }
}
```

**C. éŒ¯èª¤è™•ç†èˆ‡é‡è©¦**
```typescript
class ApiError extends Error {
  constructor(
    public status: number,
    message: string,
    public code?: string
  ) {
    super(message);
  }
}

const withRetry = async <T>(
  fn: () => Promise<T>,
  maxRetries = 3
): Promise<T> => {
  // æŒ‡æ•¸é€€é¿é‡è©¦é‚è¼¯
};
```


#### 5.2.1 å»ºç½®æµç¨‹
```bash
# å®‰è£ä¾è³´
npm install

# ç”Ÿç”¢ç’°å¢ƒå»ºç½®
npm run build

# é–‹ç™¼ç’°å¢ƒå»ºç½® (å« source map)
npm run build:dev
```

#### 5.2.2 éƒ¨ç½²è¨­å®š
- **å»ºç½®è¼¸å‡º**ï¼šdist/ ç›®éŒ„
- **éœæ…‹è³‡æº**ï¼šè‡ªå‹•å„ªåŒ–èˆ‡å£“ç¸®
- **è·¯ç”±è¨­å®š**ï¼šéœ€è¦ .htaccess æ”¯æ´ SPA è·¯ç”±
- **ç’°å¢ƒè®Šæ•¸**ï¼šAPI_BASE è·¯å¾‘è¨­å®š

### 5.3 å¾Œç«¯éƒ¨ç½²
#### 5.3.1 æª”æ¡ˆéƒ¨ç½²
- **API æª”æ¡ˆ**ï¼šapi/ ç›®éŒ„ä¸Šå‚³è‡³ä¼ºæœå™¨
- **æ†‘è­‰æª”æ¡ˆ**ï¼šservice-account-key2.json (æ¬Šé™ 600)
- **å¿«å–ç›®éŒ„**ï¼šcache/ ç›®éŒ„ (æ¬Šé™ 755ï¼Œå¯å¯«å…¥)
- **ä¾è³´å®‰è£**ï¼šcomposer install --no-dev

#### 5.3.2 æ¬Šé™è¨­å®š
```bash
# è¨­å®šæª”æ¡ˆæ¬Šé™
chmod 644 api/*.php
chmod 600 service-account-key2.json
chmod 755 cache/
chmod 666 cache/*.json
```

### 5.4 å‰ç«¯éƒ¨ç½² (Cloudflare Pages)
#### 5.4.1 å¿«å–è¦å‰‡
- **API è·¯å¾‘**ï¼š*yourdomain.com/api/* (ç¹éå¿«å–)
- **éœæ…‹è³‡æº**ï¼š*yourdomain.com/assets/* (é•·æœŸå¿«å–)
- **HTML æª”æ¡ˆ**ï¼š*yourdomain.com/*.html (çŸ­æœŸå¿«å–)

#### 5.4.2 å®‰å…¨è¨­å®š
- **SSL/TLS**ï¼šå®Œæ•´ (åš´æ ¼) æ¨¡å¼
- **HSTS**ï¼šå•Ÿç”¨ (max-age=31536000)
- **é˜²ç«ç‰†è¦å‰‡**ï¼šé˜»æ“‹æƒ¡æ„è«‹æ±‚

### 5.5 ç›£æ§èˆ‡ç¶­è­·
#### 5.5.1 æ—¥èªŒç›£æ§
- **éŒ¯èª¤æ—¥èªŒ**ï¼šPHP error_log ç›£æ§
- **å­˜å–æ—¥èªŒ**ï¼šApache/Nginx access_log åˆ†æ
- **æ•ˆèƒ½ç›£æ§**ï¼šAPI å›æ‡‰æ™‚é–“è¿½è¹¤

#### 5.5.2 å‚™ä»½ç­–ç•¥
- **ç¨‹å¼ç¢¼å‚™ä»½**ï¼šGit ç‰ˆæœ¬æ§åˆ¶
- **è³‡æ–™å‚™ä»½**ï¼šGoogle Sheets è‡ªå‹•å‚™ä»½
- **è¨­å®šå‚™ä»½**ï¼šå®šæœŸå‚™ä»½è¨­å®šæª”æ¡ˆ

## å…­ã€è³‡æ–™çµæ§‹å®šç¾©

### 6.1 è¨‚å–®è³‡æ–™çµæ§‹ (Order)
```typescript
interface Order {
  id: string;                    // è¨‚å–® ID (è¡Œç´¢å¼•)
  orderNumber: string;           // è¨‚å–®ç·¨è™Ÿ (ORD-xxx)
  customer: {                    // å®¢æˆ¶è³‡è¨Š
    name: string;                // å®¢æˆ¶å§“å
    phone: string;               // è¯çµ¡é›»è©±
  };
  items: OrderItem[];            // è¨‚å–®å•†å“åˆ—è¡¨
  total: number;                 // è¨‚å–®ç¸½é‡‘é¡
  status: OrderStatus;           // è¨‚å–®ç‹€æ…‹
  createdAt: string;             // å»ºç«‹æ™‚é–“
  deliveryMethod: string;        // é…é€æ–¹å¼
  deliveryAddress: string;       // é…é€åœ°å€
  dueDate: string;              // å¸Œæœ›åˆ°è²¨æ—¥æœŸ
  deliveryTime: string;         // é…é€æ™‚æ®µ
  paymentMethod: string;        // ä»˜æ¬¾æ–¹å¼
  notes: string;                // å‚™è¨»
  paymentStatus?: PaymentStatus; // ä»˜æ¬¾ç‹€æ…‹
}
```

### 6.2 å•†å“é …ç›®çµæ§‹ (OrderItem)
```typescript
interface OrderItem {
  product: string;    // å•†å“åç¨±
  price: number;      // å–®åƒ¹
  quantity: number;   // æ•¸é‡
  subtotal: number;   // å°è¨ˆ
}
```

### 6.3 å®¢æˆ¶è³‡æ–™çµæ§‹ (Customer)
```typescript
interface Customer {
  name: string;           // å®¢æˆ¶å§“å
  phone: string;          // è¯çµ¡é›»è©±
  address: string;        // åœ°å€
  deliveryMethod: string; // åå¥½é…é€æ–¹å¼
  totalOrders: number;    // ç¸½è¨‚å–®æ•¸
  totalAmount: number;    // ç¸½æ¶ˆè²»é‡‘é¡
  lastOrderDate: string;  // æœ€å¾Œè¨‚è³¼æ—¥æœŸ
  region: string;         // åœ°å€
}
```

### 6.4 Google Sheets æ¬„ä½å°æ‡‰
#### 6.4.1 è¨‚å–®å·¥ä½œè¡¨ (Sheet1)
| æ¬„ä½ | èªªæ˜ | è³‡æ–™é¡å‹ | ç¯„ä¾‹ |
|------|------|----------|------|
| A | æ™‚é–“æˆ³è¨˜ | DateTime | 2024-12-20 14:30:25 |
| B | å®¢æˆ¶å§“å | String | ç‹å°æ˜ |
| C | è¯çµ¡é›»è©± | String | '0912345678 |
| D | é…é€æ–¹å¼ | String | å®…é…åˆ°åºœ |
| E | é…é€åœ°å€ | String | å°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ7è™Ÿ |
| F | å¸Œæœ›åˆ°è²¨æ—¥æœŸ | Date | 2024-12-21 |
| G | å¸Œæœ›åˆ°è²¨æ™‚é–“ | String | ä¸Šåˆ (13é»å‰) |
| H | å‚™è¨» | String | è«‹æŒ‰é–€éˆ´ |
| I | è¨‚å–®é …ç›® | String | åŸå‘³è˜¿è””ç³• x 2, èŠ‹é ­ç³• x 1 |
| J | ç¸½é‡‘é¡ | Number | 850 |
| K | è¯çµ¡æ–¹å¼ | String | LINE |
| L | ç¤¾ç¾¤å¸³è™Ÿ | String | 'line123456 |
| M | ä»˜æ¬¾æ–¹å¼ | String | éŠ€è¡Œè½‰å¸³ |
| N | è¡Œè™Ÿ | Number | 1 |
| O | è¨‚å–®ç‹€æ…‹ | String | è¨‚å–®ç¢ºèªä¸­ |
| P | ä»˜æ¬¾ç‹€æ…‹ | String | æœªæ”¶è²» |

## ä¸ƒã€æ¥­å‹™è¦å‰‡èˆ‡é‚è¼¯

### 7.1 è¨‚å–®ç‹€æ…‹ç®¡ç†
- **è¨‚å–®ç¢ºèªä¸­**ï¼šæ–°å»ºè¨‚å–®çš„åˆå§‹ç‹€æ…‹
- **å·²æŠ„å–®**ï¼šè¨‚å–®å·²ç¢ºèªä¸¦é–‹å§‹è™•ç†
- **å·²å‡ºè²¨**ï¼šå•†å“å·²ç™¼é€çµ¦å®¢æˆ¶
- **å–æ¶ˆè¨‚å–®**ï¼šè¨‚å–®å·²å–æ¶ˆ

### 7.2 ä»˜æ¬¾ç‹€æ…‹ç®¡ç†
- **æœªæ”¶è²»**ï¼šå°šæœªæ”¶åˆ°æ¬¾é …
- **å·²æ”¶è²»**ï¼šå·²æ”¶åˆ°å…¨é¡æ¬¾é …
- **å¾…è½‰å¸³**ï¼šç­‰å¾…å®¢æˆ¶è½‰å¸³
- **æœªå…¨æ¬¾**ï¼šåƒ…æ”¶åˆ°éƒ¨åˆ†æ¬¾é …
- **ç‰¹æ®Š**ï¼šç‰¹æ®Šä»˜æ¬¾æƒ…æ³

### 7.3 å•†å“å®šåƒ¹è¦å‰‡
- **åŸå‘³è˜¿è””ç³•**ï¼šNT$250/æ¢
- **èŠ‹é ­ç²¿**ï¼šNT$350/æ¢
- **å°å¼é¹¹è˜¿è””ç³•**ï¼šNT$350/æ¢
- **é³³æ¢¨è±†è…ä¹³**ï¼šNT$300/ç“¶

**âš ï¸ é‡è¦è¦åŠƒäº‹é …**ï¼šç›®å‰å•†å“è³‡è¨Šï¼ˆåç¨±ã€åƒ¹æ ¼ï¼‰æ¡ç”¨ç¡¬ç·¨ç¢¼æ–¹å¼å¯¦ä½œï¼Œåˆ†æ•£åœ¨å¤šå€‹æª”æ¡ˆä¸­ï¼š
- `src/components/OrderItemEditor.tsx` (ç¬¬25-28è¡Œ)
- `src/services/orderService.ts` (ç¬¬149-152è¡Œã€ç¬¬362-368è¡Œ)
- `src/components/Dashboard.tsx` (ç¬¬111-123è¡Œ)
- `src/types/order.ts` (ç¬¬38-41è¡Œ)

**å¾ŒæœŸå„ªåŒ–è¨ˆç•«**ï¼šè¦åŠƒå°‡å•†å“ç¡¬ç·¨ç¢¼æ”¹ç‚ºå‹•æ…‹è¼‰å…¥ï¼Œä»¥ä¾¿å¾ŒæœŸæ–°å¢æ–°å•†å“ï¼Œå»ºè­°å¯¦ä½œæ–¹å‘ï¼š
1. å»ºç«‹å•†å“ç®¡ç† API ç«¯é» (`api/products_manager.php`)
2. æ–°å¢å•†å“è³‡æ–™è¡¨æˆ– Google Sheets å·¥ä½œè¡¨
3. å¯¦ä½œå•†å“ CRUD åŠŸèƒ½
4. é‡æ§‹å‰ç«¯çµ„ä»¶ä½¿ç”¨å‹•æ…‹å•†å“è³‡æ–™
5. å»ºç«‹å•†å“ç®¡ç†å¾Œå°ä»‹é¢

### 7.4 é…é€æ–¹å¼
- **å®…é…åˆ°åºœ**ï¼šéœ€å®Œæ•´åœ°å€è³‡è¨Š
- **7-11é–€å¸‚**ï¼šéœ€é–€å¸‚ä»£ç¢¼èˆ‡åœ°å€
- **é–€å¸‚å–è²¨**ï¼šç›´æ¥åˆ°åº—å–è²¨

## å…«ã€API ä»‹é¢è¦æ ¼

### 8.1 è«‹æ±‚æ ¼å¼è¦ç¯„
#### 8.1.1 GET è«‹æ±‚
- æ·»åŠ æ™‚é–“æˆ³é˜²æ­¢å¿«å–ï¼š`?_={timestamp}`
- æ·»åŠ éš¨æ©Ÿæ•¸ç¢ºä¿å”¯ä¸€æ€§ï¼š`&nonce={random}`
- å¼·åˆ¶åˆ·æ–°åƒæ•¸ï¼š`&refresh=1`

#### 8.1.2 POST è«‹æ±‚
```json
{
  "id": "è¨‚å–®ID",
  "status": "æ–°ç‹€æ…‹",
  "timestamp": 1640000000,
  "nonce": "random_string"
}
```

### 8.2 å›æ‡‰æ ¼å¼è¦ç¯„
#### 8.2.1 æˆåŠŸå›æ‡‰
```json
{
  "success": true,
  "data": [...],
  "timestamp": 1640000000,
  "request_id": "unique_id"
}
```

#### 8.2.2 éŒ¯èª¤å›æ‡‰
```json
{
  "success": false,
  "message": "éŒ¯èª¤è¨Šæ¯",
  "timestamp": 1640000000,
  "request_id": "unique_id"
}
```

## ä¹ã€é–‹ç™¼è¦ç¯„èˆ‡æµç¨‹

### 9.1 å‰ç«¯é–‹ç™¼è¦ç¯„
- **çµ„ä»¶å‘½å**ï¼šPascalCase (OrderList.tsx)
- **å‡½æ•¸å‘½å**ï¼šcamelCase (fetchOrders)
- **å¸¸æ•¸å‘½å**ï¼šUPPER_SNAKE_CASE (API_BASE)
- **é¡å‹å®šç¾©**ï¼šinterface å„ªæ–¼ type
- **ç‹€æ…‹ç®¡ç†**ï¼šReact Hooks + React Query

### 9.2 å¾Œç«¯é–‹ç™¼è¦ç¯„
- **ä»£ç¢¼é¢¨æ ¼**ï¼šPSR-12 æ¨™æº–
- **æª”æ¡ˆå‘½å**ï¼šsnake_case (get_orders_from_sheet.php)
- **éŒ¯èª¤è™•ç†**ï¼šçµ±ä¸€çš„ try-catch æ©Ÿåˆ¶
- **å®‰å…¨æ€§**ï¼šè¼¸å…¥é©—è­‰ + CORS è¨­å®š

### 9.3 ç‰ˆæœ¬æ§åˆ¶
- **åˆ†æ”¯ç­–ç•¥**ï¼šGit Flow (main/develop/feature/hotfix)
- **æäº¤è¦ç¯„**ï¼šConventional Commits
- **ä»£ç¢¼å¯©æŸ¥**ï¼šPull Request å¿…é ˆå¯©æŸ¥

## åã€æ¸¬è©¦ç­–ç•¥

### 10.1 å‰ç«¯æ¸¬è©¦
- **å–®å…ƒæ¸¬è©¦**ï¼šJest + React Testing Library
- **çµ„ä»¶æ¸¬è©¦**ï¼šStorybook
- **E2E æ¸¬è©¦**ï¼šPlaywright

### 10.2 å¾Œç«¯æ¸¬è©¦
- **API æ¸¬è©¦**ï¼šPostman/Insomnia
- **æ•´åˆæ¸¬è©¦**ï¼šPHPUnit
- **æ•ˆèƒ½æ¸¬è©¦**ï¼šApache Bench

## åä¸€ã€å°ˆæ¡ˆæª”æ¡ˆçµ±è¨ˆ

### 11.1 å°ˆæ¡ˆè¦æ¨¡
- **ç¸½æª”æ¡ˆæ•¸**ï¼šç´„ 70+ å€‹æª”æ¡ˆ
- **ç¨‹å¼ç¢¼æª”æ¡ˆ**ï¼š
  - TypeScript/Reactï¼šç´„ 30 å€‹æª”æ¡ˆ
  - PHP APIï¼š13 å€‹æª”æ¡ˆ
  - é…ç½®æª”æ¡ˆï¼š10+ å€‹æª”æ¡ˆ
- **æ–‡ä»¶æª”æ¡ˆ**ï¼š25+ å€‹ Markdown æ–‡ä»¶
- **å¿«å–æª”æ¡ˆ**ï¼š36 å€‹ JSON å¿«å–æª”æ¡ˆ

### 11.2 æ ¸å¿ƒæª”æ¡ˆæ¸…å–®

#### å‰ç«¯æ ¸å¿ƒæª”æ¡ˆ
- `src/components/OrderList.tsx` (632è¡Œ) - è¨‚å–®åˆ—è¡¨æ ¸å¿ƒçµ„ä»¶
- `src/components/OrderItemEditor.tsx` - å•†å“ç·¨è¼¯å™¨ **[åŒ…å«ç¡¬ç·¨ç¢¼å•†å“]**
- `src/services/orderService.ts` - è¨‚å–®æœå‹™ **[åŒ…å«ç¡¬ç·¨ç¢¼å•†å“é‚è¼¯]**
- `src/components/Dashboard.tsx` - ä¸»æ§å° **[åŒ…å«ç¡¬ç·¨ç¢¼å•†å“çµ±è¨ˆ]**
- `src/types/order.ts` - è¨‚å–®é¡å‹å®šç¾© **[åŒ…å«ç¡¬ç·¨ç¢¼å•†å“é¡å‹]**

#### å¾Œç«¯æ ¸å¿ƒæª”æ¡ˆ
- `api/get_orders_from_sheet.php` (131è¡Œ) - è¨‚å–®è³‡æ–™å–å¾—
- `api/batch_delete_orders.php` (237è¡Œ) - æ‰¹é‡åˆªé™¤åŠŸèƒ½
- `api/update_order_items.php` (141è¡Œ) - å•†å“æ›´æ–°åŠŸèƒ½
- `sheets_api_handler.php` (452è¡Œ) - Google Sheets API è™•ç†å™¨
- `service-account-key2.json` - Google API èªè­‰é‡‘é‘°

#### é…ç½®èˆ‡å»ºç½®æª”æ¡ˆ
- `package.json` - å‰ç«¯ä¾è³´ç®¡ç† (90è¡Œ)
- `vite.config.ts` - Vite å»ºç½®é…ç½® (93è¡Œ)
- `tailwind.config.ts` - Tailwind CSS é…ç½® (107è¡Œ)
- `.htaccess` - Apache ä¼ºæœå™¨é…ç½®

### 11.3 é‡è¦å•†å“ç¡¬ç·¨ç¢¼ä½ç½®
**éœ€è¦é‡æ§‹çš„æª”æ¡ˆ**ï¼ˆå•†å“å‹•æ…‹åŒ–æ™‚éœ€ä¿®æ”¹ï¼‰ï¼š
1. `src/components/OrderItemEditor.tsx` (ç¬¬25-28è¡Œ)
2. `src/services/orderService.ts` (ç¬¬149-152è¡Œã€ç¬¬362-368è¡Œ)
3. `src/components/Dashboard.tsx` (ç¬¬111-123è¡Œ)
4. `src/types/order.ts` (ç¬¬38-41è¡Œ)

## åäºŒã€åƒè€ƒæ–‡ä»¶
- [é–‹ç™¼æŒ‡å—](DEVELOPMENT_GUIDE.md)
- [API æ–‡ä»¶](API_DOCUMENTATION.md)
- [å°ˆæ¡ˆè¦å‰‡](PROJECT_RULES.md)
- [æ¸¬è©¦æŒ‡å—](TESTING_GUIDE.md)
- [éƒ¨ç½²æŒ‡å—](CLOUDFLARE_GUIDE.md)
- [å•†å“ç·¨è¼¯å™¨æŒ‡å—](ORDER_ITEM_EDITOR_GUIDE.md)
- [æ‰¹é‡åˆªé™¤åŠŸèƒ½](BATCH_DELETE_FEATURE.md)
- [é‡è¤‡è¨‚å–®æª¢æ¸¬](DUPLICATE_ORDERS_FEATURE.md)
- [UI/UX å„ªåŒ–æŒ‡å—](UI_UX_OPTIMIZATION_GUIDE.md)

---
**æ–‡ä»¶ç‰ˆæœ¬**ï¼šv2.1  
**æœ€å¾Œæ›´æ–°**ï¼š2025-01-28  
**ç¶­è­·è€…**ï¼šé–‹ç™¼åœ˜éšŠ  
**åˆ†ææ—¥æœŸ**ï¼š2025-01-28  

æœ¬æ–‡ä»¶ç‚ºå°ˆæ¡ˆé–‹ç™¼è¦æ ¼ä¾æ“šï¼Œå¾ŒçºŒå¦‚æœ‰ç•°å‹•è«‹åŒæ­¥æ›´æ–°ã€‚æ‰€æœ‰åŠŸèƒ½é–‹ç™¼èˆ‡ç³»çµ±æ¶æ§‹è¨­è¨ˆå‡æ‡‰éµå¾ªæœ¬è¦æ ¼æ–‡ä»¶çš„è¦ç¯„èˆ‡æ¨™æº–ã€‚

**âš ï¸ é‡è¦æé†’**ï¼šæœ¬å°ˆæ¡ˆç›®å‰æ¡ç”¨å•†å“ç¡¬ç·¨ç¢¼æ–¹å¼ï¼Œå»ºè­°å¾ŒæœŸé‡æ§‹ç‚ºå‹•æ…‹å•†å“ç®¡ç†ç³»çµ±ï¼Œä»¥æå‡ç³»çµ±å½ˆæ€§èˆ‡å¯ç¶­è­·æ€§ã€‚
